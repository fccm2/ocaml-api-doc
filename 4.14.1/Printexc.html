<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Parsing.html">
<link rel="next" href="Printf.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Arg" rel="Chapter" href="Arg.html">
<link title="Array" rel="Chapter" href="Array.html">
<link title="ArrayLabels" rel="Chapter" href="ArrayLabels.html">
<link title="Bool" rel="Chapter" href="Bool.html">
<link title="Buffer" rel="Chapter" href="Buffer.html">
<link title="Callback" rel="Chapter" href="Callback.html">
<link title="Char" rel="Chapter" href="Char.html">
<link title="Complex" rel="Chapter" href="Complex.html">
<link title="Digest" rel="Chapter" href="Digest.html">
<link title="Dynlink" rel="Chapter" href="Dynlink.html">
<link title="Dynlink_types" rel="Chapter" href="Dynlink_types.html">
<link title="Either" rel="Chapter" href="Either.html">
<link title="Event" rel="Chapter" href="Event.html">
<link title="Filename" rel="Chapter" href="Filename.html">
<link title="Float" rel="Chapter" href="Float.html">
<link title="Fun" rel="Chapter" href="Fun.html">
<link title="Gc" rel="Chapter" href="Gc.html">
<link title="Genlex" rel="Chapter" href="Genlex.html">
<link title="In_channel" rel="Chapter" href="In_channel.html">
<link title="Int" rel="Chapter" href="Int.html">
<link title="Int32" rel="Chapter" href="Int32.html">
<link title="Int64" rel="Chapter" href="Int64.html">
<link title="Lazy" rel="Chapter" href="Lazy.html">
<link title="Lexing" rel="Chapter" href="Lexing.html">
<link title="Marshal" rel="Chapter" href="Marshal.html">
<link title="Mutex" rel="Chapter" href="Mutex.html">
<link title="Nativeint" rel="Chapter" href="Nativeint.html">
<link title="Obj" rel="Chapter" href="Obj.html">
<link title="Oo" rel="Chapter" href="Oo.html">
<link title="Option" rel="Chapter" href="Option.html">
<link title="Out_channel" rel="Chapter" href="Out_channel.html">
<link title="Parsing" rel="Chapter" href="Parsing.html">
<link title="Printexc" rel="Chapter" href="Printexc.html">
<link title="Printf" rel="Chapter" href="Printf.html">
<link title="Random" rel="Chapter" href="Random.html">
<link title="Result" rel="Chapter" href="Result.html">
<link title="Scanf" rel="Chapter" href="Scanf.html">
<link title="Semaphore" rel="Chapter" href="Semaphore.html">
<link title="Set" rel="Chapter" href="Set.html">
<link title="StdLabels" rel="Chapter" href="StdLabels.html">
<link title="Str" rel="Chapter" href="Str.html">
<link title="Sys" rel="Chapter" href="Sys.html">
<link title="Uchar" rel="Chapter" href="Uchar.html">
<link title="Unit" rel="Chapter" href="Unit.html">
<link title="Unix" rel="Chapter" href="Unix.html"><link title="Raw backtraces" rel="Section" href="#1_Rawbacktraces">
<link title="Current call stack" rel="Section" href="#1_Currentcallstack">
<link title="Uncaught exceptions" rel="Section" href="#1_Uncaughtexceptions">
<link title="Manipulation of backtrace information" rel="Section" href="#1_Manipulationofbacktraceinformation">
<link title="Raw backtrace slots" rel="Section" href="#1_Rawbacktraceslots">
<link title="Exception slots" rel="Section" href="#1_Exceptionslots">
<title>Printexc</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Parsing.html" title="Parsing">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Printf.html" title="Printf">Next</a>
</div>
<h1>Module <a href="type_Printexc.html">Printexc</a></h1>

<pre><span id="MODULEPrintexc"><span class="keyword">module</span> Printexc</span>: <code class="code">sig</code> <a href="Printexc.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Facilities for printing exceptions and inspecting current call stack.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type">exn</code> = ..</pre>
<div class="info ">
<div class="info-desc">
<p>The type of exception values.</p>
</div>
</div>


<pre><span id="VALto_string"><span class="keyword">val</span> to_string</span> : <code class="type">exn -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.to_string e</code> returns a string representation of
   the exception <code class="code">e</code>.</p>
</div>
</div>

<pre><span id="VALto_string_default"><span class="keyword">val</span> to_string_default</span> : <code class="type">exn -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.to_string_default e</code> returns a string representation of the
    exception <code class="code">e</code>, ignoring all registered exception printers.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.09</li>
</ul>
</div>

<pre><span id="VALprint"><span class="keyword">val</span> print</span> : <code class="type">('a -> 'b) -> 'a -> 'b</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.print fn x</code> applies <code class="code">fn</code> to <code class="code">x</code> and returns the result.
   If the evaluation of <code class="code">fn x</code> raises any exception, the
   name of the exception is printed on standard error output,
   and the exception is raised again.
   The typical use is to catch and report exceptions that
   escape a function application.</p>
</div>
</div>

<pre><span id="VALcatch"><span class="keyword">val</span> catch</span> : <code class="type">('a -> 'b) -> 'a -> 'b</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.catch fn x</code> is similar to <a href="Printexc.html#VALprint"><code class="code">Printexc.print</code></a>, but
   aborts the program with exit code 2 after printing the
   uncaught exception.  This function is deprecated: the runtime
   system is now able to print uncaught exceptions as precisely
   as <code class="code">Printexc.catch</code> does.  Moreover, calling <code class="code">Printexc.catch</code>
   makes it harder to track the location of the exception
   using the debugger or the stack backtrace facility.
   So, do not use <code class="code">Printexc.catch</code> in new code.</p>
</div>
</div>

<pre><span id="VALprint_backtrace"><span class="keyword">val</span> print_backtrace</span> : <code class="type">Stdlib.out_channel -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.print_backtrace oc</code> prints an exception backtrace
    on the output channel <code class="code">oc</code>.  The backtrace lists the program
    locations where the most-recently raised exception was raised
    and where it was propagated through function calls.</p>

<p>If the call is not inside an exception handler, the returned
    backtrace is unspecified. If the call is after some
    exception-catching code (before in the handler, or in a when-guard
    during the matching of the exception handler), the backtrace may
    correspond to a later exception than the handled one.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.11.0</li>
</ul>
</div>

<pre><span id="VALget_backtrace"><span class="keyword">val</span> get_backtrace</span> : <code class="type">unit -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.get_backtrace ()</code> returns a string containing the
    same exception backtrace that <code class="code">Printexc.print_backtrace</code> would
    print. Same restriction usage than <a href="Printexc.html#VALprint_backtrace"><code class="code">Printexc.print_backtrace</code></a>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.11.0</li>
</ul>
</div>

<pre><span id="VALrecord_backtrace"><span class="keyword">val</span> record_backtrace</span> : <code class="type">bool -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.record_backtrace b</code> turns recording of exception backtraces
    on (if <code class="code">b = true</code>) or off (if <code class="code">b = false</code>).  Initially, backtraces
    are not recorded, unless the <code class="code">b</code> flag is given to the program
    through the <code class="code">OCAMLRUNPARAM</code> variable.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.11.0</li>
</ul>
</div>

<pre><span id="VALbacktrace_status"><span class="keyword">val</span> backtrace_status</span> : <code class="type">unit -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.backtrace_status()</code> returns <code class="code">true</code> if exception
    backtraces are currently recorded, <code class="code">false</code> if not.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.11.0</li>
</ul>
</div>

<pre><span id="VALregister_printer"><span class="keyword">val</span> register_printer</span> : <code class="type">(exn -> string option) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.register_printer fn</code> registers <code class="code">fn</code> as an exception
    printer.  The printer should return <code class="code">None</code> or raise an exception
    if it does not know how to convert the passed exception, and <code class="code">Some
    s</code> with <code class="code">s</code> the resulting string if it can convert the passed
    exception. Exceptions raised by the printer are ignored.</p>

<p>When converting an exception into a string, the printers will be invoked
    in the reverse order of their registrations, until a printer returns
    a <code class="code">Some s</code> value (if no such printer exists, the runtime will use a
    generic printer).</p>

<p>When using this mechanism, one should be aware that an exception backtrace
    is attached to the thread that saw it raised, rather than to the exception
    itself. Practically, it means that the code related to <code class="code">fn</code> should not use
    the backtrace if it has itself raised an exception before.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.11.2</li>
</ul>
</div>

<pre><span id="VALuse_printers"><span class="keyword">val</span> use_printers</span> : <code class="type">exn -> string option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.use_printers e</code> returns <code class="code">None</code> if there are no registered
    printers and <code class="code">Some s</code> with else as the resulting string otherwise.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.09</li>
</ul>
</div>
<h2 id="1_Rawbacktraces">Raw backtraces</h2>
<pre><span id="TYPEraw_backtrace"><span class="keyword">type</span> <code class="type"></code>raw_backtrace</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The type <code class="code">raw_backtrace</code> stores a backtrace in a low-level format,
    which can be converted to usable form using <code class="code">raw_backtrace_entries</code>
    and <code class="code">backtrace_slots_of_raw_entry</code> below.</p>

<p>Converting backtraces to <code class="code">backtrace_slot</code>s is slower than capturing the
    backtraces. If an application processes many backtraces, it can be useful
    to use <code class="code">raw_backtrace</code> to avoid or delay conversion.</p>

<p>Raw backtraces cannot be marshalled. If you need marshalling, you
    should use the array returned by the <code class="code">backtrace_slots</code> function of
    the next section.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.01.0</li>
</ul>
</div>


<pre><span id="TYPEraw_backtrace_entry"><span class="keyword">type</span> <code class="type"></code>raw_backtrace_entry</span> = private <code class="type">int</code> </pre>
<div class="info ">
<div class="info-desc">
<p>A <code class="code">raw_backtrace_entry</code> is an element of a <code class="code">raw_backtrace</code>.</p>

<p>Each <code class="code">raw_backtrace_entry</code> is an opaque integer, whose value is not stable
    between different programs, or even between different runs of the same
    binary.</p>

<p>A <code class="code">raw_backtrace_entry</code> can be converted to a usable form using
    <code class="code">backtrace_slots_of_raw_entry</code> below. Note that, due to inlining, a
    single <code class="code">raw_backtrace_entry</code> may convert to several <code class="code">backtrace_slot</code>s.
    Since the values of a <code class="code">raw_backtrace_entry</code> are not stable, they cannot
    be marshalled. If they are to be converted, the conversion must be done
    by the process that generated them.</p>

<p>Again due to inlining, there may be multiple distinct raw_backtrace_entry
    values that convert to equal <code class="code">backtrace_slot</code>s. However, if two
    <code class="code">raw_backtrace_entry</code>s are equal as integers, then they represent the same
    <code class="code">backtrace_slot</code>s.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.12.0</li>
</ul>
</div>


<pre><span id="VALraw_backtrace_entries"><span class="keyword">val</span> raw_backtrace_entries</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> <a href="Printexc.html#TYPEraw_backtrace_entry">raw_backtrace_entry</a> array</code></pre><div class="info ">
<ul class="info-attributes">
<li><b>Since</b> 4.12.0</li>
</ul>
</div>

<pre><span id="VALget_raw_backtrace"><span class="keyword">val</span> get_raw_backtrace</span> : <code class="type">unit -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.get_raw_backtrace ()</code> returns the same exception
    backtrace that <code class="code">Printexc.print_backtrace</code> would print, but in
    a raw format. Same restriction usage than <a href="Printexc.html#VALprint_backtrace"><code class="code">Printexc.print_backtrace</code></a>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.01.0</li>
</ul>
</div>

<pre><span id="VALprint_raw_backtrace"><span class="keyword">val</span> print_raw_backtrace</span> : <code class="type">Stdlib.out_channel -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Print a raw backtrace in the same format
    <code class="code">Printexc.print_backtrace</code> uses.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.01.0</li>
</ul>
</div>

<pre><span id="VALraw_backtrace_to_string"><span class="keyword">val</span> raw_backtrace_to_string</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p>Return a string from a raw backtrace, in the same format
    <code class="code">Printexc.get_backtrace</code> uses.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.01.0</li>
</ul>
</div>

<pre><span id="VALraise_with_backtrace"><span class="keyword">val</span> raise_with_backtrace</span> : <code class="type">exn -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p>Reraise the exception using the given raw_backtrace for the
    origin of the exception</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.05.0</li>
</ul>
</div>
<h2 id="1_Currentcallstack">Current call stack</h2>
<pre><span id="VALget_callstack"><span class="keyword">val</span> get_callstack</span> : <code class="type">int -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.get_callstack n</code> returns a description of the top of the
    call stack on the current program point (for the current thread),
    with at most <code class="code">n</code> entries.  (Note: this function is not related to
    exceptions at all, despite being part of the <code class="code">Printexc</code> module.)</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.01.0</li>
</ul>
</div>
<h2 id="1_Uncaughtexceptions">Uncaught exceptions</h2>
<pre><span id="VALdefault_uncaught_exception_handler"><span class="keyword">val</span> default_uncaught_exception_handler</span> : <code class="type">exn -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.default_uncaught_exception_handler</code> prints the exception and
    backtrace on standard error output.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.11</li>
</ul>
</div>

<pre><span id="VALset_uncaught_exception_handler"><span class="keyword">val</span> set_uncaught_exception_handler</span> : <code class="type">(exn -> <a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> unit) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.set_uncaught_exception_handler fn</code> registers <code class="code">fn</code> as the handler
    for uncaught exceptions. The default handler is
    <a href="Printexc.html#VALdefault_uncaught_exception_handler"><code class="code">Printexc.default_uncaught_exception_handler</code></a>.</p>

<p>Note that when <code class="code">fn</code> is called all the functions registered with
    <code class="code">Stdlib.at_exit</code> have already been called. Because of this you must
    make sure any output channel <code class="code">fn</code> writes on is flushed.</p>

<p>Also note that exceptions raised by user code in the interactive toplevel
    are not passed to this function as they are caught by the toplevel itself.</p>

<p>If <code class="code">fn</code> raises an exception, both the exceptions passed to <code class="code">fn</code> and raised
    by <code class="code">fn</code> will be printed with their respective backtrace.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02.0</li>
</ul>
</div>
<h2 id="1_Manipulationofbacktraceinformation">Manipulation of backtrace information</h2>
<p>These functions are used to traverse the slots of a raw backtrace
    and extract information from them in a programmer-friendly format.</p>

<pre><span id="TYPEbacktrace_slot"><span class="keyword">type</span> <code class="type"></code>backtrace_slot</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The abstract type <code class="code">backtrace_slot</code> represents a single slot of
    a backtrace.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02</li>
</ul>
</div>


<pre><span id="VALbacktrace_slots"><span class="keyword">val</span> backtrace_slots</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> <a href="Printexc.html#TYPEbacktrace_slot">backtrace_slot</a> array option</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the slots of a raw backtrace, or <code class="code">None</code> if none of them
    contain useful information.</p>

<p>In the return array, the slot at index <code class="code">0</code> corresponds to the most
    recent function call, raise, or primitive <code class="code">get_backtrace</code> call in
    the trace.</p>

<p>Some possible reasons for returning <code class="code">None</code> are as follow:</p>
<ul>
<li>none of the slots in the trace come from modules compiled with
    debug information (<code class="code">-g</code>)</li>
<li>the program is a bytecode program that has not been linked with
    debug information enabled (<code class="code">ocamlc -g</code>)</li>
</ul>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02.0</li>
</ul>
</div>

<pre><span id="VALbacktrace_slots_of_raw_entry"><span class="keyword">val</span> backtrace_slots_of_raw_entry</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace_entry">raw_backtrace_entry</a> -> <a href="Printexc.html#TYPEbacktrace_slot">backtrace_slot</a> array option</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the slots of a single raw backtrace entry, or <code class="code">None</code> if this
    entry lacks debug information.</p>

<p>Slots are returned in the same order as <code class="code">backtrace_slots</code>: the slot
    at index <code class="code">0</code> is the most recent call, raise, or primitive, and
    subsequent slots represent callers.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.12</li>
</ul>
</div>

<pre><code><span id="TYPElocation"><span class="keyword">type</span> <code class="type"></code>location</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.filename">filename</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.line_number">line_number</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.start_char">start_char</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlocation.end_char">end_char</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>The type of location information found in backtraces. <code class="code">start_char</code>
    and <code class="code">end_char</code> are positions relative to the beginning of the
    line.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02</li>
</ul>
</div>


<pre><span id="MODULESlot"><span class="keyword">module</span> <a href="Printexc.Slot.html">Slot</a></span>: <code class="code">sig</code> <a href="Printexc.Slot.html">..</a> <code class="code">end</code></pre><div class="info">
</div>
<h2 id="1_Rawbacktraceslots">Raw backtrace slots</h2>
<pre><span id="TYPEraw_backtrace_slot"><span class="keyword">type</span> <code class="type"></code>raw_backtrace_slot</span> </pre>
<div class="info ">
<div class="info-desc">
<p>This type is used to iterate over the slots of a <code class="code">raw_backtrace</code>.
    For most purposes, <code class="code">backtrace_slots_of_raw_entry</code> is easier to use.</p>

<p>Like <code class="code">raw_backtrace_entry</code>, values of this type are process-specific and
    must absolutely not be marshalled, and are unsafe to use for this reason
    (marshalling them may not fail, but un-marshalling and using the result
    will result in undefined behavior).</p>

<p>Elements of this type can still be compared and hashed: when two elements
    are equal, then they represent the same source location (the converse is not
    necessarily true in presence of inlining, for example).</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02.0</li>
</ul>
</div>


<pre><span id="VALraw_backtrace_length"><span class="keyword">val</span> raw_backtrace_length</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">raw_backtrace_length bckt</code> returns the number of slots in the
    backtrace <code class="code">bckt</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02</li>
</ul>
</div>

<pre><span id="VALget_raw_backtrace_slot"><span class="keyword">val</span> get_raw_backtrace_slot</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace">raw_backtrace</a> -> int -> <a href="Printexc.html#TYPEraw_backtrace_slot">raw_backtrace_slot</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_raw_backtrace_slot bckt pos</code> returns the slot in position <code class="code">pos</code> in the
    backtrace <code class="code">bckt</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02</li>
</ul>
</div>

<pre><span id="VALconvert_raw_backtrace_slot"><span class="keyword">val</span> convert_raw_backtrace_slot</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace_slot">raw_backtrace_slot</a> -> <a href="Printexc.html#TYPEbacktrace_slot">backtrace_slot</a></code></pre><div class="info ">
<div class="info-desc">
<p>Extracts the user-friendly <code class="code">backtrace_slot</code> from a low-level
    <code class="code">raw_backtrace_slot</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02</li>
</ul>
</div>

<pre><span id="VALget_raw_backtrace_next_slot"><span class="keyword">val</span> get_raw_backtrace_next_slot</span> : <code class="type"><a href="Printexc.html#TYPEraw_backtrace_slot">raw_backtrace_slot</a> -> <a href="Printexc.html#TYPEraw_backtrace_slot">raw_backtrace_slot</a> option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_raw_backtrace_next_slot slot</code> returns the next slot inlined, if any.</p>

<p>Sample code to iterate over all frames (inlined and non-inlined):</p>
<pre class="codepre"><code class="code">      (* Iterate over inlined frames *)
      let rec iter_raw_backtrace_slot f slot =
        f slot;
        match get_raw_backtrace_next_slot slot with
        | None -&gt; ()
        | Some slot' -&gt; iter_raw_backtrace_slot f slot'

      (* Iterate over stack frames *)
      let iter_raw_backtrace f bt =
        for i = 0 to raw_backtrace_length bt - 1 do
          iter_raw_backtrace_slot f (get_raw_backtrace_slot bt i)
        done
    </code></pre></div>
<ul class="info-attributes">
<li><b>Since</b> 4.04.0</li>
</ul>
</div>
<h2 id="1_Exceptionslots">Exception slots</h2>
<pre><span id="VALexn_slot_id"><span class="keyword">val</span> exn_slot_id</span> : <code class="type">exn -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.exn_slot_id</code> returns an integer which uniquely identifies
    the constructor used to create the exception value <code class="code">exn</code>
    (in the current runtime).</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02.0</li>
</ul>
</div>

<pre><span id="VALexn_slot_name"><span class="keyword">val</span> exn_slot_name</span> : <code class="type">exn -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">Printexc.exn_slot_name exn</code> returns the internal name of the constructor
    used to create the exception value <code class="code">exn</code>.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 4.02.0</li>
</ul>
</div>
</body></html>
